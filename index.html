<head>
  <title>lequanglam.github.io - MAIN CONSOLE</title>
  <style>
    a:link, a:visited { 
      color: #00FF00;
      text-decoration: underline;
      cursor: pointer;
    }
    a:link:active, a:visited:active { 
      color: #00FF00;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
</head>
<body style="background-color: #000000">
  <tt style="color: #00FF00">
    <pre id="console" style="display: inline; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; word-break: break-all;"></pre><span id="cursor"></span>
  </tt>
  <br>
  <input style="background-color: #000000; color: #000000; border-color: #000000; width: 240px; height: 14px" id="forcekeyboard"></input>
  <script>
    var lockconsole = true;
    var nostdout = false;
    var charinput = "";
    var username = "";
    var usemodified = true;
    var defaultentertrigger = function(charinput){};
    var modifiedentertrigger = function(charinput){};
    var motd = "jShell by UIRI\nCONNECTING..........................................\nCONNECTED\n\nserver1.d***********t.allprivatekeys.org (routed through lequanglam.cf - using interface lequanglam.github.io)\nInternal server uses PHP 7.2 & Node.JS 10\nDefault username is ANOMYNOUS (all UPPERCASE, no lowercase)\n\nPLEASE AUTHENTICATE";
    for (var i = 0; i < motd.length; i++) {
      setTimeout(function (char, lastchar) {
        $("#console").html($("#console").html() + char);
        if (lastchar) {
          $("#console").html($("#console").html() + "\nUSERNAME: ");
          $("#forcekeyboard").focus();
          $('body').click(function() {
            $('#forcekeyboard').focus();
          });
          modifiedentertrigger = function (un) {
            username = un;
            if (un == "ANOMYNOUS") {
              $("#console").html($("#console").html() + "\n\nVERIFYING...\nPUBLIC DATA ACCESS ONLY\nLOGGED IN\n\n\nERROR: INVALID BYTE 346\nCONNECTION TERMINATED");
              lockconsole = true;
              usemodified = false;
            } else {
              $("#console").html($("#console").html() + "\nPASSWORD: "); 
              nostdout = true;
              modifiedentertrigger = function (pass) {
                $("#console").html($("#console").html() + "\n\nLOGGING IN...");
                var datareturn = $.ajax({
                  type: "POST",
                  url: "https://lequanglam.cf/lequanglam.github.io/internalapi/login",
                  async: false,
                  data: {
                    username: username,
                    password: window.btoa(encodeURIComponent(pass))
                  }
                }).responseText;
                try {
                  datareturn = JSON.parse(datareturn);
                } catch (ex) {
                  $("#console").html($("#console").html() + "\nERROR: INTERNAL SERVER ERROR - RETURNED DATA IS CORRUPTED\nCONNECTION TERMINATED"); 
                  usemodified = false;
                  nostdout = false;
                  lockconsole = true;
                }
              }
            }
          }
          lockconsole = false;
        }
      }, i * 30, motd[i], (i + 1 == motd.length));
    }
    $(document).on("keydown", function (e) {
      if (!lockconsole) {
        if (e.which == 8) {
          if (!nostdout && charinput != "") {
            $("#console").html($("#console").html().substr(0, $("#console").html().length - 1));
          }
          charinput = charinput.substr(0, charinput.length - 1);
        } else if (e.which == 10 || e.which == 13) {
          document.onTriggered({ 
            which: e.which
          });
        }
      }
    });
    $(document).on("keyup", function (e) {
      var str = $("#forcekeyboard").val();
      for (var i in str) {
        document.onTriggered({ 
          which: str.charCodeAt(i) 
        });
      }
      $("#forcekeyboard").val("");
    });
    document.onTriggered = function (e) {
      if (!lockconsole) {
        if (e.which == 13 || e.which == 10) {
          if (usemodified) {
            modifiedentertrigger(charinput);
          } else {
            defaultentertrigger(charinput);
          }
          $("#forcekeyboard").val("");
        } else {
          if (!nostdout) {
            $("#console").html($("#console").html() + String.fromCharCode(e.which));
          }
          charinput = charinput + String.fromCharCode(e.which);
        }
      }
    };
    var cursor = setInterval(function() {
      if (lockconsole) {
        $("#cursor").html("");
      } else if (nostdout) {
        $("#cursor").html("█");
      } else {
        $("#cursor").html() === "█" ? $("#cursor").html("") : $("#cursor").html("█");
      }
    }, 1000);
  </script>
</body>
